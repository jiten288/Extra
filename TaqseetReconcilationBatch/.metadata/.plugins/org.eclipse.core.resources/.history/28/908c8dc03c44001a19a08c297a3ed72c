package com.reconcile;




import java.sql.Connection;
import java.sql.SQLException;
import java.util.List;

import org.apache.log4j.BasicConfigurator;
import org.apache.log4j.Logger;
import org.apache.log4j.PropertyConfigurator;

public class TaqseetReconcileUtillity {
	static Logger logger = Logger.getLogger(TaqseetReconcileUtillity.class);

	public static void main(String[] batchParam) throws SQLException {
		
		BasicConfigurator.configure();
		String log4jConfigFile = (PosServiceUtil.class.getResource("/log4j.properties")).getPath();
		PropertyConfigurator.configure(log4jConfigFile);

		String method = batchParam[0];
		String filepath = batchParam[1];

			PosServiceUtil service =  new PosServiceUtil();
			if (method != null && !method.isEmpty() && method.equalsIgnoreCase("date")) {
				logger.info("Call the Date Query" + method);
				
				DBManager dbManager = DBManager.getInstance();
				List<String> cancelledTrans = dbManager.getCancelledTransactionByDate();
				service.getTransactionStatus("2731174062");
				service.callPostTransactionReversal("1033660802", 5.00 , 132645, "2731174062");;
				
			} else if (method != null && !method.isEmpty() && filepath != null && !filepath.isEmpty()
					&& method.equalsIgnoreCase("tran")) {
				logger.info("Call the trans Query  " + method + " " + filepath);
			} else {
				logger.info("Invalid Or No paramters passed");
			}
		}
	}


